{% extends "admin/layout.html" %}
{% block body %}
    <div class="panel panel-default">
        <div class="panel-heading">
            Games
            <div class="pull-right">
                <div class="btn-group">
                    <button type="button" class="btn btn-default btn-xs dropdown-toggle" data-toggle="dropdown">
                        Actions <span class="caret"></span>
                    </button>
                    <ul class="dropdown-menu pull-right" role="menu">
                        <li><a href="{{ url_for('.add_game') }}">Add game</a></li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="panel-body">
           {% from "admin/_game.html" import game_result %}
            <table class="table table-striped table-bordered table-hover" id="dataTables-example">
                <thead>
                <tr>
                    <th>ID</th>
                    <th>Team Host</th>
                    <th>Team Guest</th>
                    <th>Date</th>
                    <th>Extra time?</th>
                    <th>Final result</th>
                    <th>Users / Forecast</th>
                </tr>
                </thead>
                <tbody>
                {% for game in games %}
                <tr class="odd gradeX">
                    <td><a href="#">{{game.id}}</a></td>
                    <td>{{game.team_host.name}}</td>
                    <td>{{game.team_guest.name}}</td>
                    <td>{{game.date}}</td>
                    <td class="center">{{game.extra_time_allowed}}</td>
                    <td class="center">{{ game_result(game) }}</td>
                    <td class="center">{{total_users}} / {{ forecast_stat[game.id] }}</td>
                </tr>
                {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
{% endblock %}